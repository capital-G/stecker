{% extends "base.html.jinja" %}

{% block content %}

{% if room_name %}
    <h2>{{ room_name }}</h2>

    <p x-data="{returnRoomPrefix: new URLSearchParams(document.location.search).get('returnRoomPrefix')}">
        <button
            class="button"
            @click="$store.stecker.joinRoom('{{ room_name }}', 'AUDIO',  returnRoomPrefix)"
            x-bind:disabled="$store.stecker.connectedRoom"
            x-text="returnRoomPrefix == null ? 'Start playing' : 'Start playing and broadcasting'"
        >
        </button>
    </p>

    <p>
        <div class="field">
            <label class="label">Audio</label>
            <div class="control">
                <audio controls style="width: 100%;" id="audio-player"></audio>
            </div>
        </div>
    </p>
{% else %}
    <p>Room does not exist.</p>
{% endif %}

{% endblock %}
